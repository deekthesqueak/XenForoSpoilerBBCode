(function(){var d=function(a){var b=a.selection.getContent();b.replace(/^<p>/,"").replace(/<\/p>$/,"");a.selection.setContent(b!==""?"<p>[SPOILER]"+b+"[/SPOILER]</p>":'<p>[SPOILER="Hint Text"][/SPOILER]</p>')};tinymce.create("tinymce.plugins.SpoilerButtonPlugin",{init:function(a,b){var c=a.theme.settings;if(c.theme_xenforo_buttons2.indexOf("thecollectivemind_spoiler")==-1)c.theme_xenforo_buttons2+=",thecollectivemind_spoiler";a.addCommand("addSpoiler",function(){d(a)});console.log(window.tinymce.i18n);
a.addButton("thecollectivemind_spoiler",{title:window.tinymce.i18n["xenforo.thecollectivemind.spoiler_desc"],cmd:"addSpoiler",image:b+"/img/spoiler.png"});a.onNodeChange.add(function(g,e,f){e.setActive("example",f.nodeName=="IMG")})},getInfo:function(){return{longname:"Spoiler Button",author:"Derek Bonner",authorurl:"http://derekbonner.com",infourl:"",version:"1.2"}}});tinymce.PluginManager.add("spoiler",tinymce.plugins.SpoilerButtonPlugin)})();
